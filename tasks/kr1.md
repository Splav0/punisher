# Контрольная работа 1

## Условия: 
* на контрольной работе можно использовать любой материал, принесенный с собой (книги, статьи, код);
* в контрольной проверяются разные знания, как то, что мы проходили на пз, так и то что было дано в качестве домашнего задания;
* необходимо вести разработку с применением СКВ git, а также с применением системы веток и issues в gitlab;
* в процессе выполнения быть готовым продемонстрировать навыки работы с git через cli (выполнить мердж с конфликтами);
* необходимо использовать статический анализатор кода pylint (код должен быть оценен на 10/10);
* все модули, классы, функции, методы должны быть задокументированы в стиле google docstrings;
* весь код должен быть покрыт тестами (минимальное покрытие тестами - 85%), не написанные тесты - автоматом _банан_;
* в ридми проекта должны быть инструкции по запуску вашего кода, а также запуску тестов с измерением степени покрытия (из консоли);
* код не должен быть написан единой портянкой;
* запрещено использование мобильных телефонов и незарегистрированной ВТ.


## Ход работы:
1. Создать приватный репозиторий с названием **python-kr**. По указанию преподавателя добавить пользователя @yar_av или @abramov с ролью maintainer. Преподавателя @anetto добавить в любом случае.
2. Создать issues с задачами, которые предстоит решать, не совсем очевидные задачи стоит декомпозировать и сначала описать словами, как будете их решать. Для ускорения работы допускается демонстрация тракта issue - branch - merge request только для одной задачи.
3. После реализации функции сразу приступить к написанию тестов и проверке кода в пайлинт.
4. Уточнить выполняемый вариант у преподавателя.

## Задача - вариант 1 - Sentence

Программа принимает на вход строку и осуществляет подсчет частотности слов.

Дополнительно:

* словом считается любые символы, разделенные пробелами;
* программа поддерживает возможность определения количества слов в переданной строке;
* программа поддерживает возможность итерирования по четным словам строки;
* программа поддерживает подсчет частотности слов с точностью до одного знака после запятой.

# Структура программы

Ниже приведена структура программы, которую необходимо реализовать. В комментариях даны более подробные требования к
каждому из методов.

Нужно реализовать класс Sentence в файле sentence.py со следующей структурой:

```python
class Sentence:
    def __init__(self, text):
        """
        Конструктор принимает на вход строку
        :param text: произвольная строка
        у объекта класса должно быть два атрибута
        text - в нем должна располагаться строка, которая подается на вход в чистом виде
        Если text окажется пустой строкой необходимо генерировать исключение ValueError с сообщением "text cant be empty"
        splitted_by_words - список слов, полученных из text путем разбиения по пробелам
        """
        ...

    def __len__(self):
        """
        Метод осуществляющий подсчет количества слов, в переданной строке
        :return: количество слов в переданной строке
        """
        ...

    def __iter__(self):
        """
        Метод для итерирования по !!четным!! словам, переданной строки
        """
        ...

    def tf(self, word):
        """
        Метод, вычисляющий term frequency (tf)
        Считается как отношение количества вхождений word в строку к количеству слов в строке
        :param word: слово для которого будем считать tf
        :return: tf с точностью до одного знака после запятой
         для округления результата использовать функцию round(val, precision), которая округляет val до precision знаков после запятой
        """
        ...

    def compute_all_tf(self):
        """
        Метод подсчитывающий tf для всех слов входной строки
        :return: Словарь, где ключом словаря является слово, а значением величина tf для этого слова
        """
        ...

```

В файле main.py нужно реализовать обработку входной строки. Формат запуска

```bash
python3 main.py "my awesome string"
```

Должно вывести
```bash
{'my': 0.3, 'awesome': 0.3, 'string': 0.3}
```

Тесты нужно реализовать в файле tests.py.

Итого в вашем проекте должны быть
* main.py
* sentence.py
* tests.py
* README.md


## Задача - вариант 2 - Filer

Для запуска тестов с измерением покрытия в терминале можете воспользоваться командой
```bash
coverage run --source=. -m pytest tests.py
coverage report  -m
```

Программа принимает на вход путь к файлу и осуществляет подсчет количества букв во всём файле.

Дополнительно:

* учитывать только русские и английские буквы
* регистр различать, а и А - две разные буквы
* программа поддерживает возможность определения количества букв в переданной строке;
* программа поддерживает возможность итерирования по строкам в файле в обратную сторону;
* программа поддерживает ограничение на число считываемых строк.

# Структура программы

Ниже приведена структура программы, которую необходимо реализовать. **Структуру требуется скопировать**, название класса и методов не менять. В комментариях даны более подробные требования к каждому из методов.

Нужно реализовать класс Filer в файле filer.py со следующей структурой:

```python
class Filer:
    """Класс для работы с файлом как со списком строк. Поддерживает
    чтение файла, итерирование в обратную сторону, статический метод
    получения словаря встречаемости букв и анализа всего файла
    """
    def __init__(self, num):
        """
        Args:
            num: максимальное число строк для считывания

        Return:
            None

        Raises:
            RuntimeError, если num не может быть представлено целым числом
            ValueError, если num меньше 1

        У экземпляра класса должны быть два поля
            num - типа int, с максимальным числом строк, инициализировать параметром num
            content - типа list, со списком считанных строк, инициализировать пустым списком
        """
        pass

    def read(self, path):
        """
        Построчно считывает файл по пути path в self.content как список строк,
        обрезая начальные и конечные пробельные символы.
        Читать не более self.num строк

        Args:
            path: путь к файлу

        Return:
            None

        Raises:
            RuntimeError, если есть проблемы с чтением файла (нет файла, нет прав)

        Side effect:
            Заполняет self.content
        """
        pass

    def __len__(self):
        """
        Return:
            Общее число символов в self.content
        """
        pass

    def __iter__(self):
        """
        Метод для итерирования по сохранённым строкам файла в обратную сторону,
        от последней к первой
        """
        pass

    def letter_count(line):
        """
        Статический метод, возвращающий для заданной строки line словарь, в котором
        ключи - это буквы этой строки, а значения - количество повторений этого символа в строке.
        Буквами считать символы русского или английского алфавита.
        Регистр учитывать, то есть а и А - две разные буквы.
        Все не-буквы игнорировать.

        Args:
            line: строка для анализа

        Return:
            Словарь, где ключи - буквы из line, значения - число повторений буквы в строке
        """
        pass

    def get_all_letters_count(self):
        """
        Для всего сохранённого файла вернуть словарь количества букв в файле.
        Return:
            Словарь, где ключи - буквы из self.content, значения - число повторений буквы в считанных строках
        """
        pass
```

В файле main.py нужно реализовать обработку входного файла. Формат запуска

```bash
python3 main.py <num> <path>

# например, для 5 строк и файла file.txt
python3 main.py 5 file.txt
{'a': 7, 'b': 3, 'c': 2, 'A': 3}

python3 main.py 3 file.txt
{'a': 6, 'b': 3, 'c': 2, 'A': 3}
```

Содержимое файла file.txt
```
aaaa bbb cc
AAA
aa
a
```

Тесты нужно реализовать в файле tests.py.

Итого в вашем проекте должны быть
* main.py
* filer.py
* tests.py
* README.md
* .gitignore
